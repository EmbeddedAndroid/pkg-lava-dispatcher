Dependencies
------------

LAVA needs python >= 2.6.

For the LAVA client, you need the pexpect module.


Configuring for local development
---------------------------------
For LAVA development and testing using only locally attached resources,
you should be able to make use of most features, even without the use of
special equipment such as a console server.

First install conmux and cu:
    sudo add-apt-repository ppa:linaro-maintainers/tools
    sudo apt-get update
    sudo apt-get install conmux cu

Connect a development board to a local serial device (e.g. ttyUSB0).
You may have permission problem with cu running as root under conmux.

Create a configuration file for your board under /etc/conmux which
should look something like this:
    listener panda01
    application console 'panda01 console' 'cu -l /dev/ttyUSB0 -s 115200'
Make sure to give the file a '.cf' extension (e.g. panda01.cf).

If you see this permission problem when running cu, you can try
adjusting your .cf file to call cu using sg, and the group name owning
the device.  For example:
    sg dialout "cu -l ttyUSB0 -s 115200"

Finally restart conmux:
    sudo stop conmux
    sudo start conmux

You can test the connection using:
    conmux-console panda01
    (use ~$quit to exit)

Logging:
Conmux keeps logs in /var/log/conmux.  If it cannot attach to the
device, it may continually send output to the log every few seconds.
For non-production purposes, you may simply want to run 'sudo stop
conmux' when you are not using the console, to avoid needlessly growing
large logfiles.


Dispatching a job
-----------------

From the toplevel, run:
    ./lava-dispatch doc/abrek-ltp-job.json

